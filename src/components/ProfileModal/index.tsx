import {
  Modal,
  ModalContent,
  ModalBody,
  Button,
  Avatar,
  Input,
  CircularProgress,
} from "@nextui-org/react";
import { useSupabaseClient } from "@supabase/auth-helpers-react";
import classNames from "classnames";
import {
  ChevronRight,
  CreditCard,
  Handshake,
  LogOut,
  MessageCircle,
  ScrollText,
  SquareArrowOutUpRight,
  User,
} from "lucide-react";
import { DateTime } from "luxon";
import { useRouter } from "next/navigation";
import { useEffect, useMemo, useState } from "react";

import "react-phone-number-input/style.css";
import PhoneInput, {
  formatPhoneNumberIntl,
  isValidPhoneNumber,
  parsePhoneNumber,
} from "react-phone-number-input";

const ProfileModal = ({
  isOpen,
  defaultPanel,
  isPro,
  userInfo,
  onOpenChange,
  handleChoosePlan,
  user,
  subscriptionInfo,
  handleLogout,
}: any) => {
  const [panel, setPanel] = useState("profile");
  const [phone, setPhone] = useState(null);
  const [code, setCode]: any = useState(null);
  const [name, setName] = useState(subscriptionInfo?.full_name);
  const [isLoading, setIsloading] = useState(false);
  const [isToVerifyCode, setIsToVerifyCode] = useState(false);
  const [isInValidCode, setIsInValidCode] = useState(false);
  const [isToVerifyPhone, setIsToVerifyPhone] = useState(false);

  const supabaseServerClient = useSupabaseClient();

  const getUser = () => user;

  const shortenedName = userInfo?.full_name
    ?.split(" ")
    ?.slice(0, -1)
    ?.join(" ");

  const router = useRouter();

  useEffect(() => {
    if (defaultPanel) {
      setPanel(defaultPanel);
    }
  }, [defaultPanel, isOpen]);

  const isCancelled = subscriptionInfo?.to_cancel_at;
  const cancellationScheduled = isCancelled
    ? DateTime.fromISO(subscriptionInfo?.to_cancel_at).toJSDate()
    : null;

  const handleProfile = async (e: any, type: any) => {
    const value = e?.target?.value;
    if (type === "full_name") {
      setName(value);
    } else {
      setPhone(value);
    }
  };

  const save = async () => {
    setIsloading(true);

    await supabaseServerClient
      .from("users")
      .update({
        full_name: name,
      })
      .eq("id", user?.id);

    setIsloading(false);
  };

  const checkPhone = async () => {
    setIsloading(true);

    if (phone && isValidPhoneNumber(phone)) {
      const { data, error } = await supabaseServerClient.auth.updateUser({
        phone,
      });
      if (data) {
        setIsToVerifyCode(true);
      }
    }

    setIsloading(false);
  };

  const verifyCode = async () => {
    if (phone && isValidPhoneNumber(phone) && code) {
      const { data, error } = await supabaseServerClient.auth.verifyOtp({
        phone,
        type: "phone_change",
        token: code,
      });

      if (error) {
        setIsInValidCode(true);
        return;
      }

      if (data) {
        const { data, error } = await supabaseServerClient
          .from("notification")
          .update({
            phone: getUser()?.phone,
          })
          .eq("user_id", getUser()?.id);

        console.log("aaaa", data);

        setIsInValidCode(false);
        setIsToVerifyCode(false);
      }
    }
  };

  const validateCode = (value: any) => value?.match(/^[0-9]{6,6}$/g) && phone;

  const isInvalid = useMemo(() => {
    if (!code) return false;

    return validateCode(code) ? false : true;
  }, [code]);

  const isValidCode = code && code.length === 6;

  const panels: any = {
    profile: !!user && (
      <div className="p-8 w-full flex flex-col justify-between h-full overflow-scroll">
        <div>
          <p className="text-[24px] mb-7 text-[white]">Profile</p>
          <Input
            onChange={(e) => handleProfile(e, "full_name")}
            className="mb-3 w-[400px] max-w-full"
            type="text"
            defaultValue={subscriptionInfo?.full_name}
            label="Name"
          />
          <Input
            className="mb-3 w-[400px] max-w-full"
            color="default"
            type="email"
            label="Email"
            isDisabled={true}
            defaultValue={user?.email}
          />

          <Button
            variant="solid"
            className="bg-[white] text-[black] font-black mt-3"
            onClick={save}
          >
            {isLoading ? (
              <CircularProgress className="mb-2" aria-label="Loading..." />
            ) : (
              "Save"
            )}
          </Button>

          <br />
          <br />
          <br />

          <PhoneInput
            className="mb-3 w-[400px] max-w-full"
            placeholder="Phone"
            international
            value={`+${user.phone}`}
            onChange={(value) => {
              setPhone(value);
              const valueRaw = value?.replace("+", "").trim();
              if (phone && isValidPhoneNumber(phone)) {
                if (valueRaw == user?.phone?.trim()) {
                  setIsToVerifyPhone(false);
                } else {
                  setIsToVerifyPhone(true);
                }
              } else {
                setIsToVerifyPhone(false);
              }
            }}
          />
          {phone &&
          isValidPhoneNumber(phone) &&
          isToVerifyPhone &&
          !isToVerifyCode ? (
            <p onClick={checkPhone} className="cursor-pointer hover:underline">
              Verify number
            </p>
          ) : null}

          {/* {true && ( */}
          {isToVerifyCode && (
            <>
              <Input
                onChange={(e) => {
                  const value = e?.target?.value;
                  if (value.length > 6) return;
                  setCode(e?.target?.value);
                }}
                value={code}
                className="mb-3 w-[400px] shrink-0 max-w-full"
                color="default"
                isInvalid={isInvalid}
                label="Verification code"
              />

              {isInValidCode && (
                <>
                  <p className="text-danger leading-3 mt-[-5px] mb-5 text-[14px]">
                    Invalid code
                  </p>
                </>
              )}

              {isValidCode && (
                <Button color="default" onClick={verifyCode} variant="bordered">
                  Confirm code
                </Button>
              )}
            </>
          )}
        </div>
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <div className="flex max-w-[400px] justify-between items-center">
          <p className="max-w-[200px]">
            Please don't do that. But if you need, just email us.
          </p>
          <a href="mailto:contact@cesarolvr.com" className="text-danger">
            Delete account
          </a>
        </div>
      </div>
    ),
    subscription: (
      <div className="w-full flex flex-col justify-between h-full overflow-scroll">
        <div className="w-full mb-10">
          <p className="text-[24px] p-8 px-6 md:px-8 mb-3 pb-0 text-[white]">
            Subscription
          </p>
          {isCancelled ? (
            <div className="text-[14px] px-6 md:px-8 mb-7 md:pr-12 text-red-400">
              Your subscription was cancelled and you won't be charged anymore.{" "}
              <br />
              <span className="text-[#919191]">
                You PRO account is still valid until{" "}
                <strong className="text-[white]">
                  {cancellationScheduled?.getDate()}/
                  {cancellationScheduled?.getMonth() + 1}/
                  {cancellationScheduled?.getFullYear()}.
                </strong>
              </span>
            </div>
          ) : null}

          <div className="flex px-6 md:px-8 items-center justify-center w-full min-h-0">
            <div className="cards flex justify-between rounded-3xl w-full min-h-0 md:flex-row flex-col-reverse">
              <div className="text-left p-6 md:p-8 mb-10 md:mb-0 flex-shrink-0 w-full md:w-[48%] bg-[#1B1B1B] rounded-3xl flex flex-col justify-between">
                <div>
                  <p className="text-[35px] flex relative font-black items-end mb-1">
                    $0
                    <span className="text-[18px] bottom-[9px] absolute left-[50px] font-normal text-[#656565]">
                      /month
                    </span>
                  </p>

                  <p className="text-[30px] font-black">Free</p>
                  <p className="mb-6 max-w-[95%] text-[14px]">
                    For most people who want to define a new routine and chase
                    it consistently
                  </p>
                  <ul className="mb-10 text-[14px]">
                    <li className="flex items-center justify-start my-3">
                      <svg
                        width="20"
                        className="flex-shrink-0"
                        viewBox="0 0 29 36"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M18.6655 23.6832C18.7457 24.1194 18.7859 24.4717 18.7859 24.7402C18.826 25.0086 18.8461 25.2771 18.8461 25.5455C18.8461 26.3844 18.7056 27.3743 18.4246 28.5153C18.1838 29.6562 17.7422 30.7467 17.1 31.787C16.4979 32.7937 15.675 33.6661 14.6313 34.4044C13.6278 35.1091 12.3433 35.4614 10.7778 35.4614C9.33273 35.4614 7.96795 35.1258 6.68344 34.4547C5.39894 33.75 4.25492 32.8608 3.2514 31.787C2.24788 30.6796 1.44507 29.4548 0.842957 28.1126C0.280986 26.7368 0 25.3778 0 24.0355C0 22.0892 0.140493 20.4282 0.421479 19.0524C0.742605 17.6431 1.18415 16.4183 1.74612 15.378C1.74612 15.2773 1.66584 15.1767 1.50528 15.076C1.38486 14.9753 1.32465 14.8411 1.32465 14.6733C1.32465 14.5055 1.50528 14.2874 1.86655 14.019C2.26795 13.7505 2.72957 13.4989 3.2514 13.264C3.81338 12.9955 4.35528 12.7774 4.87711 12.6096C5.43908 12.4083 5.86056 12.3076 6.14154 12.3076C6.3021 12.3076 6.56302 12.3747 6.92429 12.509C7.3257 12.6432 7.82745 12.7103 8.42957 12.7103C8.63027 12.7103 8.83097 12.6935 9.03168 12.66C9.23238 12.6264 9.45316 12.6096 9.694 12.6096C10.537 12.6096 11.4401 12.9452 12.4035 13.6163C13.407 14.2539 14.3303 15.0928 15.1732 16.133C16.0563 17.1733 16.7989 18.3645 17.401 19.7068C18.0433 21.0155 18.4648 22.3409 18.6655 23.6832ZM16.257 25.6462C16.257 25.0086 16.0965 24.1026 15.7753 22.9282C15.4542 21.7201 14.9725 20.5457 14.3303 19.4048C13.688 18.2303 12.9053 17.2068 11.982 16.3344C11.0989 15.4619 10.0954 15.0257 8.97147 15.0257C8.89119 15.0257 8.73062 15.0257 8.48978 15.0257C8.28907 14.9921 8.04823 14.9753 7.76724 14.9753C7.48626 14.9418 7.22534 14.925 6.9845 14.925C6.74365 14.8914 6.60316 14.8747 6.56302 14.8747C5.92077 14.8747 5.3588 15.1263 4.87711 15.6297C4.43556 16.133 4.05422 16.7874 3.73309 17.5927C3.45211 18.3981 3.23133 19.3209 3.07077 20.3611C2.91021 21.4013 2.82993 22.4416 2.82993 23.4818C2.82993 23.8509 2.95035 24.5724 3.19119 25.6462C3.43204 26.6864 3.85352 27.777 4.45563 28.9179C5.09788 30.0253 5.94084 31.0152 6.9845 31.8877C8.02816 32.7601 9.3528 33.1963 10.9584 33.1963C12.0422 33.1963 12.9253 32.9279 13.6077 32.391C14.2901 31.8205 14.812 31.1326 15.1732 30.3273C15.5746 29.5219 15.8556 28.6998 16.0162 27.8609C16.1767 26.9885 16.257 26.2502 16.257 25.6462Z"
                          fill="#555555"
                        />
                        <path
                          d="M11.755 27.4014L11.7643 27.3959L11.7734 27.3899C12.4092 26.9714 13.1427 26.3679 13.9712 25.5895L13.9712 25.5895L13.9744 25.5864C14.8226 24.7753 15.7334 23.8171 16.7065 22.7132L16.708 22.7115C17.6966 21.5794 18.705 20.3768 19.7334 19.1037L19.7335 19.1038L19.7401 19.0952C20.7385 17.8026 21.7145 16.4766 22.6682 15.1173L22.6683 15.1174L22.6747 15.1078C23.6163 13.6977 24.4758 12.3218 25.2529 10.98C26.4061 8.98882 27.2257 7.35893 27.6993 6.09855L27.6995 6.09861L27.7039 6.08587C28.1359 4.83496 28.402 3.82197 28.4824 3.06435L28.4836 3.05302L28.4843 3.04165C28.5068 2.66662 28.5059 2.3363 28.4764 2.05731C28.4489 1.79731 28.3927 1.54225 28.2772 1.33287C28.2157 1.19868 28.162 1.08734 28.1172 1.00336C28.0942 0.960218 28.0689 0.915369 28.0424 0.875394C28.0293 0.855636 28.0108 0.829271 27.9877 0.802061C27.9713 0.782823 27.9219 0.725831 27.8426 0.680151C27.4426 0.449919 27.0071 0.446634 26.5925 0.634656C26.2389 0.794992 25.9454 1.02972 25.7566 1.35573C25.6856 1.47825 25.6384 1.6259 25.603 1.76687C25.5656 1.91553 25.5331 2.09214 25.5041 2.29249C25.4532 2.6448 25.3482 3.13433 25.1843 3.76815C24.9917 4.37651 24.7109 5.14052 24.3397 6.06294C23.9404 6.96061 23.3875 8.02125 22.6777 9.24688C22.0399 10.3482 21.3287 11.4703 20.544 12.613C19.7266 13.7404 18.8874 14.8345 18.0265 15.8953C17.1645 16.9575 16.3234 17.9486 15.5032 18.8686C14.6523 19.7704 13.8753 20.5466 13.1719 21.1981C12.4666 21.8515 11.8739 22.3526 11.3916 22.7072C11.1746 22.8582 11.0173 22.9412 10.9128 22.979C10.839 22.8878 10.7347 22.7544 10.5987 22.5769C10.3139 22.2053 9.95529 21.7509 9.52349 21.2145C9.10011 20.6351 8.62233 20.0465 8.09078 19.4486C7.54487 18.8008 6.98058 18.1836 6.39787 17.5972C6.1352 17.3196 5.82833 17.0179 5.47827 16.6922C5.11518 16.3183 4.77309 15.9765 4.45209 15.6671C4.13091 15.3575 3.84622 15.0892 3.59837 14.8625L3.59845 14.8624L3.59045 14.8554C3.4513 14.7335 3.33592 14.6348 3.24569 14.5607C3.1672 14.4963 3.07795 14.4254 3.00495 14.3834C2.7202 14.2195 2.4034 14.099 2.08313 14.1242C1.72219 14.1525 1.44982 14.357 1.28125 14.648C1.06869 15.015 1.06318 15.4168 1.24964 15.7927C1.43666 16.1698 1.78103 16.7327 2.268 17.4679C2.75857 18.2086 3.31722 19.0082 3.94359 19.8666C4.53669 20.7039 5.16725 21.5834 5.83525 22.5048C6.50511 23.4289 7.12484 24.2625 7.69433 25.0056C8.25872 25.742 8.7542 26.3595 9.18009 26.8563C9.36129 27.1014 9.50344 27.2908 9.60545 27.4228C9.65707 27.4896 9.70124 27.5453 9.7363 27.5873C9.75344 27.6078 9.77227 27.6297 9.79096 27.6497L9.79102 27.6497C9.79296 27.6519 9.84807 27.7143 9.92589 27.7591C10.2168 27.9265 10.5461 27.9013 10.8215 27.8277C11.1058 27.7518 11.4197 27.6019 11.755 27.4014ZM10.8309 23.0009C10.831 23.0008 10.8324 23.0006 10.8351 23.0006C10.8322 23.001 10.8309 23.001 10.8309 23.0009Z"
                          fill="white"
                          stroke="white"
                        />
                      </svg>
                      <p className="ml-4">1 Journey at a time</p>
                    </li>
                    <li className="flex items-center justify-start my-3">
                      <svg
                        width="20"
                        className="flex-shrink-0"
                        viewBox="0 0 29 36"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M18.6655 23.6832C18.7457 24.1194 18.7859 24.4717 18.7859 24.7402C18.826 25.0086 18.8461 25.2771 18.8461 25.5455C18.8461 26.3844 18.7056 27.3743 18.4246 28.5153C18.1838 29.6562 17.7422 30.7467 17.1 31.787C16.4979 32.7937 15.675 33.6661 14.6313 34.4044C13.6278 35.1091 12.3433 35.4614 10.7778 35.4614C9.33273 35.4614 7.96795 35.1258 6.68344 34.4547C5.39894 33.75 4.25492 32.8608 3.2514 31.787C2.24788 30.6796 1.44507 29.4548 0.842957 28.1126C0.280986 26.7368 0 25.3778 0 24.0355C0 22.0892 0.140493 20.4282 0.421479 19.0524C0.742605 17.6431 1.18415 16.4183 1.74612 15.378C1.74612 15.2773 1.66584 15.1767 1.50528 15.076C1.38486 14.9753 1.32465 14.8411 1.32465 14.6733C1.32465 14.5055 1.50528 14.2874 1.86655 14.019C2.26795 13.7505 2.72957 13.4989 3.2514 13.264C3.81338 12.9955 4.35528 12.7774 4.87711 12.6096C5.43908 12.4083 5.86056 12.3076 6.14154 12.3076C6.3021 12.3076 6.56302 12.3747 6.92429 12.509C7.3257 12.6432 7.82745 12.7103 8.42957 12.7103C8.63027 12.7103 8.83097 12.6935 9.03168 12.66C9.23238 12.6264 9.45316 12.6096 9.694 12.6096C10.537 12.6096 11.4401 12.9452 12.4035 13.6163C13.407 14.2539 14.3303 15.0928 15.1732 16.133C16.0563 17.1733 16.7989 18.3645 17.401 19.7068C18.0433 21.0155 18.4648 22.3409 18.6655 23.6832ZM16.257 25.6462C16.257 25.0086 16.0965 24.1026 15.7753 22.9282C15.4542 21.7201 14.9725 20.5457 14.3303 19.4048C13.688 18.2303 12.9053 17.2068 11.982 16.3344C11.0989 15.4619 10.0954 15.0257 8.97147 15.0257C8.89119 15.0257 8.73062 15.0257 8.48978 15.0257C8.28907 14.9921 8.04823 14.9753 7.76724 14.9753C7.48626 14.9418 7.22534 14.925 6.9845 14.925C6.74365 14.8914 6.60316 14.8747 6.56302 14.8747C5.92077 14.8747 5.3588 15.1263 4.87711 15.6297C4.43556 16.133 4.05422 16.7874 3.73309 17.5927C3.45211 18.3981 3.23133 19.3209 3.07077 20.3611C2.91021 21.4013 2.82993 22.4416 2.82993 23.4818C2.82993 23.8509 2.95035 24.5724 3.19119 25.6462C3.43204 26.6864 3.85352 27.777 4.45563 28.9179C5.09788 30.0253 5.94084 31.0152 6.9845 31.8877C8.02816 32.7601 9.3528 33.1963 10.9584 33.1963C12.0422 33.1963 12.9253 32.9279 13.6077 32.391C14.2901 31.8205 14.812 31.1326 15.1732 30.3273C15.5746 29.5219 15.8556 28.6998 16.0162 27.8609C16.1767 26.9885 16.257 26.2502 16.257 25.6462Z"
                          fill="#555555"
                        />
                        <path
                          d="M11.755 27.4014L11.7643 27.3959L11.7734 27.3899C12.4092 26.9714 13.1427 26.3679 13.9712 25.5895L13.9712 25.5895L13.9744 25.5864C14.8226 24.7753 15.7334 23.8171 16.7065 22.7132L16.708 22.7115C17.6966 21.5794 18.705 20.3768 19.7334 19.1037L19.7335 19.1038L19.7401 19.0952C20.7385 17.8026 21.7145 16.4766 22.6682 15.1173L22.6683 15.1174L22.6747 15.1078C23.6163 13.6977 24.4758 12.3218 25.2529 10.98C26.4061 8.98882 27.2257 7.35893 27.6993 6.09855L27.6995 6.09861L27.7039 6.08587C28.1359 4.83496 28.402 3.82197 28.4824 3.06435L28.4836 3.05302L28.4843 3.04165C28.5068 2.66662 28.5059 2.3363 28.4764 2.05731C28.4489 1.79731 28.3927 1.54225 28.2772 1.33287C28.2157 1.19868 28.162 1.08734 28.1172 1.00336C28.0942 0.960218 28.0689 0.915369 28.0424 0.875394C28.0293 0.855636 28.0108 0.829271 27.9877 0.802061C27.9713 0.782823 27.9219 0.725831 27.8426 0.680151C27.4426 0.449919 27.0071 0.446634 26.5925 0.634656C26.2389 0.794992 25.9454 1.02972 25.7566 1.35573C25.6856 1.47825 25.6384 1.6259 25.603 1.76687C25.5656 1.91553 25.5331 2.09214 25.5041 2.29249C25.4532 2.6448 25.3482 3.13433 25.1843 3.76815C24.9917 4.37651 24.7109 5.14052 24.3397 6.06294C23.9404 6.96061 23.3875 8.02125 22.6777 9.24688C22.0399 10.3482 21.3287 11.4703 20.544 12.613C19.7266 13.7404 18.8874 14.8345 18.0265 15.8953C17.1645 16.9575 16.3234 17.9486 15.5032 18.8686C14.6523 19.7704 13.8753 20.5466 13.1719 21.1981C12.4666 21.8515 11.8739 22.3526 11.3916 22.7072C11.1746 22.8582 11.0173 22.9412 10.9128 22.979C10.839 22.8878 10.7347 22.7544 10.5987 22.5769C10.3139 22.2053 9.95529 21.7509 9.52349 21.2145C9.10011 20.6351 8.62233 20.0465 8.09078 19.4486C7.54487 18.8008 6.98058 18.1836 6.39787 17.5972C6.1352 17.3196 5.82833 17.0179 5.47827 16.6922C5.11518 16.3183 4.77309 15.9765 4.45209 15.6671C4.13091 15.3575 3.84622 15.0892 3.59837 14.8625L3.59845 14.8624L3.59045 14.8554C3.4513 14.7335 3.33592 14.6348 3.24569 14.5607C3.1672 14.4963 3.07795 14.4254 3.00495 14.3834C2.7202 14.2195 2.4034 14.099 2.08313 14.1242C1.72219 14.1525 1.44982 14.357 1.28125 14.648C1.06869 15.015 1.06318 15.4168 1.24964 15.7927C1.43666 16.1698 1.78103 16.7327 2.268 17.4679C2.75857 18.2086 3.31722 19.0082 3.94359 19.8666C4.53669 20.7039 5.16725 21.5834 5.83525 22.5048C6.50511 23.4289 7.12484 24.2625 7.69433 25.0056C8.25872 25.742 8.7542 26.3595 9.18009 26.8563C9.36129 27.1014 9.50344 27.2908 9.60545 27.4228C9.65707 27.4896 9.70124 27.5453 9.7363 27.5873C9.75344 27.6078 9.77227 27.6297 9.79096 27.6497L9.79102 27.6497C9.79296 27.6519 9.84807 27.7143 9.92589 27.7591C10.2168 27.9265 10.5461 27.9013 10.8215 27.8277C11.1058 27.7518 11.4197 27.6019 11.755 27.4014ZM10.8309 23.0009C10.831 23.0008 10.8324 23.0006 10.8351 23.0006C10.8322 23.001 10.8309 23.001 10.8309 23.0009Z"
                          fill="white"
                          stroke="white"
                        />
                      </svg>
                      <p className="ml-4">Unlimited logs</p>
                    </li>
                    <li className="flex items-center justify-start my-3">
                      <svg
                        width="20"
                        className="flex-shrink-0"
                        viewBox="0 0 29 36"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M18.6655 23.6832C18.7457 24.1194 18.7859 24.4717 18.7859 24.7402C18.826 25.0086 18.8461 25.2771 18.8461 25.5455C18.8461 26.3844 18.7056 27.3743 18.4246 28.5153C18.1838 29.6562 17.7422 30.7467 17.1 31.787C16.4979 32.7937 15.675 33.6661 14.6313 34.4044C13.6278 35.1091 12.3433 35.4614 10.7778 35.4614C9.33273 35.4614 7.96795 35.1258 6.68344 34.4547C5.39894 33.75 4.25492 32.8608 3.2514 31.787C2.24788 30.6796 1.44507 29.4548 0.842957 28.1126C0.280986 26.7368 0 25.3778 0 24.0355C0 22.0892 0.140493 20.4282 0.421479 19.0524C0.742605 17.6431 1.18415 16.4183 1.74612 15.378C1.74612 15.2773 1.66584 15.1767 1.50528 15.076C1.38486 14.9753 1.32465 14.8411 1.32465 14.6733C1.32465 14.5055 1.50528 14.2874 1.86655 14.019C2.26795 13.7505 2.72957 13.4989 3.2514 13.264C3.81338 12.9955 4.35528 12.7774 4.87711 12.6096C5.43908 12.4083 5.86056 12.3076 6.14154 12.3076C6.3021 12.3076 6.56302 12.3747 6.92429 12.509C7.3257 12.6432 7.82745 12.7103 8.42957 12.7103C8.63027 12.7103 8.83097 12.6935 9.03168 12.66C9.23238 12.6264 9.45316 12.6096 9.694 12.6096C10.537 12.6096 11.4401 12.9452 12.4035 13.6163C13.407 14.2539 14.3303 15.0928 15.1732 16.133C16.0563 17.1733 16.7989 18.3645 17.401 19.7068C18.0433 21.0155 18.4648 22.3409 18.6655 23.6832ZM16.257 25.6462C16.257 25.0086 16.0965 24.1026 15.7753 22.9282C15.4542 21.7201 14.9725 20.5457 14.3303 19.4048C13.688 18.2303 12.9053 17.2068 11.982 16.3344C11.0989 15.4619 10.0954 15.0257 8.97147 15.0257C8.89119 15.0257 8.73062 15.0257 8.48978 15.0257C8.28907 14.9921 8.04823 14.9753 7.76724 14.9753C7.48626 14.9418 7.22534 14.925 6.9845 14.925C6.74365 14.8914 6.60316 14.8747 6.56302 14.8747C5.92077 14.8747 5.3588 15.1263 4.87711 15.6297C4.43556 16.133 4.05422 16.7874 3.73309 17.5927C3.45211 18.3981 3.23133 19.3209 3.07077 20.3611C2.91021 21.4013 2.82993 22.4416 2.82993 23.4818C2.82993 23.8509 2.95035 24.5724 3.19119 25.6462C3.43204 26.6864 3.85352 27.777 4.45563 28.9179C5.09788 30.0253 5.94084 31.0152 6.9845 31.8877C8.02816 32.7601 9.3528 33.1963 10.9584 33.1963C12.0422 33.1963 12.9253 32.9279 13.6077 32.391C14.2901 31.8205 14.812 31.1326 15.1732 30.3273C15.5746 29.5219 15.8556 28.6998 16.0162 27.8609C16.1767 26.9885 16.257 26.2502 16.257 25.6462Z"
                          fill="#555555"
                        />
                        <path
                          d="M11.755 27.4014L11.7643 27.3959L11.7734 27.3899C12.4092 26.9714 13.1427 26.3679 13.9712 25.5895L13.9712 25.5895L13.9744 25.5864C14.8226 24.7753 15.7334 23.8171 16.7065 22.7132L16.708 22.7115C17.6966 21.5794 18.705 20.3768 19.7334 19.1037L19.7335 19.1038L19.7401 19.0952C20.7385 17.8026 21.7145 16.4766 22.6682 15.1173L22.6683 15.1174L22.6747 15.1078C23.6163 13.6977 24.4758 12.3218 25.2529 10.98C26.4061 8.98882 27.2257 7.35893 27.6993 6.09855L27.6995 6.09861L27.7039 6.08587C28.1359 4.83496 28.402 3.82197 28.4824 3.06435L28.4836 3.05302L28.4843 3.04165C28.5068 2.66662 28.5059 2.3363 28.4764 2.05731C28.4489 1.79731 28.3927 1.54225 28.2772 1.33287C28.2157 1.19868 28.162 1.08734 28.1172 1.00336C28.0942 0.960218 28.0689 0.915369 28.0424 0.875394C28.0293 0.855636 28.0108 0.829271 27.9877 0.802061C27.9713 0.782823 27.9219 0.725831 27.8426 0.680151C27.4426 0.449919 27.0071 0.446634 26.5925 0.634656C26.2389 0.794992 25.9454 1.02972 25.7566 1.35573C25.6856 1.47825 25.6384 1.6259 25.603 1.76687C25.5656 1.91553 25.5331 2.09214 25.5041 2.29249C25.4532 2.6448 25.3482 3.13433 25.1843 3.76815C24.9917 4.37651 24.7109 5.14052 24.3397 6.06294C23.9404 6.96061 23.3875 8.02125 22.6777 9.24688C22.0399 10.3482 21.3287 11.4703 20.544 12.613C19.7266 13.7404 18.8874 14.8345 18.0265 15.8953C17.1645 16.9575 16.3234 17.9486 15.5032 18.8686C14.6523 19.7704 13.8753 20.5466 13.1719 21.1981C12.4666 21.8515 11.8739 22.3526 11.3916 22.7072C11.1746 22.8582 11.0173 22.9412 10.9128 22.979C10.839 22.8878 10.7347 22.7544 10.5987 22.5769C10.3139 22.2053 9.95529 21.7509 9.52349 21.2145C9.10011 20.6351 8.62233 20.0465 8.09078 19.4486C7.54487 18.8008 6.98058 18.1836 6.39787 17.5972C6.1352 17.3196 5.82833 17.0179 5.47827 16.6922C5.11518 16.3183 4.77309 15.9765 4.45209 15.6671C4.13091 15.3575 3.84622 15.0892 3.59837 14.8625L3.59845 14.8624L3.59045 14.8554C3.4513 14.7335 3.33592 14.6348 3.24569 14.5607C3.1672 14.4963 3.07795 14.4254 3.00495 14.3834C2.7202 14.2195 2.4034 14.099 2.08313 14.1242C1.72219 14.1525 1.44982 14.357 1.28125 14.648C1.06869 15.015 1.06318 15.4168 1.24964 15.7927C1.43666 16.1698 1.78103 16.7327 2.268 17.4679C2.75857 18.2086 3.31722 19.0082 3.94359 19.8666C4.53669 20.7039 5.16725 21.5834 5.83525 22.5048C6.50511 23.4289 7.12484 24.2625 7.69433 25.0056C8.25872 25.742 8.7542 26.3595 9.18009 26.8563C9.36129 27.1014 9.50344 27.2908 9.60545 27.4228C9.65707 27.4896 9.70124 27.5453 9.7363 27.5873C9.75344 27.6078 9.77227 27.6297 9.79096 27.6497L9.79102 27.6497C9.79296 27.6519 9.84807 27.7143 9.92589 27.7591C10.2168 27.9265 10.5461 27.9013 10.8215 27.8277C11.1058 27.7518 11.4197 27.6019 11.755 27.4014ZM10.8309 23.0009C10.831 23.0008 10.8324 23.0006 10.8351 23.0006C10.8322 23.001 10.8309 23.001 10.8309 23.0009Z"
                          fill="white"
                          stroke="white"
                        />
                      </svg>
                      <p className="ml-4">Access to partial habit insights</p>
                    </li>
                  </ul>
                </div>
                <Button
                  className="bg-white opacity-50 text-[20px] w-full px-16 text-black font-black"
                  variant="solid"
                  size="lg"
                  onClick={() => {
                    handleChoosePlan(user?.id, "free");
                  }}
                >
                  {isPro ? "Downgrade plan" : "Your plan"}
                </Button>
              </div>
              <div className="text-left w-full md:w-[48%] flex-shrink-0 relative p-6 md:p-8 bg-[#272727] border-1 border-[#27DE55] rounded-3xl mb-8 md:mb-0">
                <div className="absolute top-[-20px] right-[-20px] bg-[#27DE55] rounded-xl py-2 px-4 text-[black] font-black">
                  {isPro ? "Already subscribed" : "Most popular"}
                </div>

                <p className="text-[35px] flex relative font-black items-end mb-1 text-[white]">
                  $9
                  <span className="text-[18px] bottom-[10px] absolute left-[50px] font-normal text-[#656565]">
                    /month
                  </span>
                </p>

                <p className="text-[27px] md:text-[30px] leading-10 md:leading-normal mb-2 md:mb-0 font-black text-[#27DE55] relative">
                  PRO
                </p>
                <p className="mb-6 max-w-[100%] text-[14px]">
                  For those who want to pursue goals in a disciplined manner and
                  who trust in the power of consistency
                </p>
                <ul className="mb-10 text-[14px]">
                  <li className="flex items-center justify-start my-3">
                    <svg
                      width="20"
                      className="flex-shrink-0"
                      viewBox="0 0 29 36"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M18.6655 23.6832C18.7457 24.1194 18.7859 24.4717 18.7859 24.7402C18.826 25.0086 18.8461 25.2771 18.8461 25.5455C18.8461 26.3844 18.7056 27.3743 18.4246 28.5153C18.1838 29.6562 17.7422 30.7467 17.1 31.787C16.4979 32.7937 15.675 33.6661 14.6313 34.4044C13.6278 35.1091 12.3433 35.4614 10.7778 35.4614C9.33273 35.4614 7.96795 35.1258 6.68344 34.4547C5.39894 33.75 4.25492 32.8608 3.2514 31.787C2.24788 30.6796 1.44507 29.4548 0.842957 28.1126C0.280986 26.7368 0 25.3778 0 24.0355C0 22.0892 0.140493 20.4282 0.421479 19.0524C0.742605 17.6431 1.18415 16.4183 1.74612 15.378C1.74612 15.2773 1.66584 15.1767 1.50528 15.076C1.38486 14.9753 1.32465 14.8411 1.32465 14.6733C1.32465 14.5055 1.50528 14.2874 1.86655 14.019C2.26795 13.7505 2.72957 13.4989 3.2514 13.264C3.81338 12.9955 4.35528 12.7774 4.87711 12.6096C5.43908 12.4083 5.86056 12.3076 6.14154 12.3076C6.3021 12.3076 6.56302 12.3747 6.92429 12.509C7.3257 12.6432 7.82745 12.7103 8.42957 12.7103C8.63027 12.7103 8.83097 12.6935 9.03168 12.66C9.23238 12.6264 9.45316 12.6096 9.694 12.6096C10.537 12.6096 11.4401 12.9452 12.4035 13.6163C13.407 14.2539 14.3303 15.0928 15.1732 16.133C16.0563 17.1733 16.7989 18.3645 17.401 19.7068C18.0433 21.0155 18.4648 22.3409 18.6655 23.6832ZM16.257 25.6462C16.257 25.0086 16.0965 24.1026 15.7753 22.9282C15.4542 21.7201 14.9725 20.5457 14.3303 19.4048C13.688 18.2303 12.9053 17.2068 11.982 16.3344C11.0989 15.4619 10.0954 15.0257 8.97147 15.0257C8.89119 15.0257 8.73062 15.0257 8.48978 15.0257C8.28907 14.9921 8.04823 14.9753 7.76724 14.9753C7.48626 14.9418 7.22534 14.925 6.9845 14.925C6.74365 14.8914 6.60316 14.8747 6.56302 14.8747C5.92077 14.8747 5.3588 15.1263 4.87711 15.6297C4.43556 16.133 4.05422 16.7874 3.73309 17.5927C3.45211 18.3981 3.23133 19.3209 3.07077 20.3611C2.91021 21.4013 2.82993 22.4416 2.82993 23.4818C2.82993 23.8509 2.95035 24.5724 3.19119 25.6462C3.43204 26.6864 3.85352 27.777 4.45563 28.9179C5.09788 30.0253 5.94084 31.0152 6.9845 31.8877C8.02816 32.7601 9.3528 33.1963 10.9584 33.1963C12.0422 33.1963 12.9253 32.9279 13.6077 32.391C14.2901 31.8205 14.812 31.1326 15.1732 30.3273C15.5746 29.5219 15.8556 28.6998 16.0162 27.8609C16.1767 26.9885 16.257 26.2502 16.257 25.6462Z"
                        fill="#555555"
                      />
                      <path
                        d="M11.755 27.4014L11.7643 27.3959L11.7734 27.3899C12.4092 26.9714 13.1427 26.3679 13.9712 25.5895L13.9712 25.5895L13.9744 25.5864C14.8226 24.7753 15.7334 23.8171 16.7065 22.7132L16.708 22.7115C17.6966 21.5794 18.705 20.3768 19.7334 19.1037L19.7335 19.1038L19.7401 19.0952C20.7385 17.8026 21.7145 16.4766 22.6682 15.1173L22.6683 15.1174L22.6747 15.1078C23.6163 13.6977 24.4758 12.3218 25.2529 10.98C26.4061 8.98882 27.2257 7.35893 27.6993 6.09855L27.6995 6.09861L27.7039 6.08587C28.1359 4.83496 28.402 3.82197 28.4824 3.06435L28.4836 3.05302L28.4843 3.04165C28.5068 2.66662 28.5059 2.3363 28.4764 2.05731C28.4489 1.79731 28.3927 1.54225 28.2772 1.33287C28.2157 1.19868 28.162 1.08734 28.1172 1.00336C28.0942 0.960218 28.0689 0.915369 28.0424 0.875394C28.0293 0.855636 28.0108 0.829271 27.9877 0.802061C27.9713 0.782823 27.9219 0.725831 27.8426 0.680151C27.4426 0.449919 27.0071 0.446634 26.5925 0.634656C26.2389 0.794992 25.9454 1.02972 25.7566 1.35573C25.6856 1.47825 25.6384 1.6259 25.603 1.76687C25.5656 1.91553 25.5331 2.09214 25.5041 2.29249C25.4532 2.6448 25.3482 3.13433 25.1843 3.76815C24.9917 4.37651 24.7109 5.14052 24.3397 6.06294C23.9404 6.96061 23.3875 8.02125 22.6777 9.24688C22.0399 10.3482 21.3287 11.4703 20.544 12.613C19.7266 13.7404 18.8874 14.8345 18.0265 15.8953C17.1645 16.9575 16.3234 17.9486 15.5032 18.8686C14.6523 19.7704 13.8753 20.5466 13.1719 21.1981C12.4666 21.8515 11.8739 22.3526 11.3916 22.7072C11.1746 22.8582 11.0173 22.9412 10.9128 22.979C10.839 22.8878 10.7347 22.7544 10.5987 22.5769C10.3139 22.2053 9.95529 21.7509 9.52349 21.2145C9.10011 20.6351 8.62233 20.0465 8.09078 19.4486C7.54487 18.8008 6.98058 18.1836 6.39787 17.5972C6.1352 17.3196 5.82833 17.0179 5.47827 16.6922C5.11518 16.3183 4.77309 15.9765 4.45209 15.6671C4.13091 15.3575 3.84622 15.0892 3.59837 14.8625L3.59845 14.8624L3.59045 14.8554C3.4513 14.7335 3.33592 14.6348 3.24569 14.5607C3.1672 14.4963 3.07795 14.4254 3.00495 14.3834C2.7202 14.2195 2.4034 14.099 2.08313 14.1242C1.72219 14.1525 1.44982 14.357 1.28125 14.648C1.06869 15.015 1.06318 15.4168 1.24964 15.7927C1.43666 16.1698 1.78103 16.7327 2.268 17.4679C2.75857 18.2086 3.31722 19.0082 3.94359 19.8666C4.53669 20.7039 5.16725 21.5834 5.83525 22.5048C6.50511 23.4289 7.12484 24.2625 7.69433 25.0056C8.25872 25.742 8.7542 26.3595 9.18009 26.8563C9.36129 27.1014 9.50344 27.2908 9.60545 27.4228C9.65707 27.4896 9.70124 27.5453 9.7363 27.5873C9.75344 27.6078 9.77227 27.6297 9.79096 27.6497L9.79102 27.6497C9.79296 27.6519 9.84807 27.7143 9.92589 27.7591C10.2168 27.9265 10.5461 27.9013 10.8215 27.8277C11.1058 27.7518 11.4197 27.6019 11.755 27.4014ZM10.8309 23.0009C10.831 23.0008 10.8324 23.0006 10.8351 23.0006C10.8322 23.001 10.8309 23.001 10.8309 23.0009Z"
                        fill="#39D353"
                        stroke="#39D353"
                      />
                    </svg>

                    <p className="ml-4">Unlimited simultaneous Journeys</p>
                  </li>
                  <li className="flex items-center justify-start my-3">
                    <svg
                      width="20"
                      className="flex-shrink-0"
                      viewBox="0 0 29 36"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M18.6655 23.6832C18.7457 24.1194 18.7859 24.4717 18.7859 24.7402C18.826 25.0086 18.8461 25.2771 18.8461 25.5455C18.8461 26.3844 18.7056 27.3743 18.4246 28.5153C18.1838 29.6562 17.7422 30.7467 17.1 31.787C16.4979 32.7937 15.675 33.6661 14.6313 34.4044C13.6278 35.1091 12.3433 35.4614 10.7778 35.4614C9.33273 35.4614 7.96795 35.1258 6.68344 34.4547C5.39894 33.75 4.25492 32.8608 3.2514 31.787C2.24788 30.6796 1.44507 29.4548 0.842957 28.1126C0.280986 26.7368 0 25.3778 0 24.0355C0 22.0892 0.140493 20.4282 0.421479 19.0524C0.742605 17.6431 1.18415 16.4183 1.74612 15.378C1.74612 15.2773 1.66584 15.1767 1.50528 15.076C1.38486 14.9753 1.32465 14.8411 1.32465 14.6733C1.32465 14.5055 1.50528 14.2874 1.86655 14.019C2.26795 13.7505 2.72957 13.4989 3.2514 13.264C3.81338 12.9955 4.35528 12.7774 4.87711 12.6096C5.43908 12.4083 5.86056 12.3076 6.14154 12.3076C6.3021 12.3076 6.56302 12.3747 6.92429 12.509C7.3257 12.6432 7.82745 12.7103 8.42957 12.7103C8.63027 12.7103 8.83097 12.6935 9.03168 12.66C9.23238 12.6264 9.45316 12.6096 9.694 12.6096C10.537 12.6096 11.4401 12.9452 12.4035 13.6163C13.407 14.2539 14.3303 15.0928 15.1732 16.133C16.0563 17.1733 16.7989 18.3645 17.401 19.7068C18.0433 21.0155 18.4648 22.3409 18.6655 23.6832ZM16.257 25.6462C16.257 25.0086 16.0965 24.1026 15.7753 22.9282C15.4542 21.7201 14.9725 20.5457 14.3303 19.4048C13.688 18.2303 12.9053 17.2068 11.982 16.3344C11.0989 15.4619 10.0954 15.0257 8.97147 15.0257C8.89119 15.0257 8.73062 15.0257 8.48978 15.0257C8.28907 14.9921 8.04823 14.9753 7.76724 14.9753C7.48626 14.9418 7.22534 14.925 6.9845 14.925C6.74365 14.8914 6.60316 14.8747 6.56302 14.8747C5.92077 14.8747 5.3588 15.1263 4.87711 15.6297C4.43556 16.133 4.05422 16.7874 3.73309 17.5927C3.45211 18.3981 3.23133 19.3209 3.07077 20.3611C2.91021 21.4013 2.82993 22.4416 2.82993 23.4818C2.82993 23.8509 2.95035 24.5724 3.19119 25.6462C3.43204 26.6864 3.85352 27.777 4.45563 28.9179C5.09788 30.0253 5.94084 31.0152 6.9845 31.8877C8.02816 32.7601 9.3528 33.1963 10.9584 33.1963C12.0422 33.1963 12.9253 32.9279 13.6077 32.391C14.2901 31.8205 14.812 31.1326 15.1732 30.3273C15.5746 29.5219 15.8556 28.6998 16.0162 27.8609C16.1767 26.9885 16.257 26.2502 16.257 25.6462Z"
                        fill="#555555"
                      />
                      <path
                        d="M11.755 27.4014L11.7643 27.3959L11.7734 27.3899C12.4092 26.9714 13.1427 26.3679 13.9712 25.5895L13.9712 25.5895L13.9744 25.5864C14.8226 24.7753 15.7334 23.8171 16.7065 22.7132L16.708 22.7115C17.6966 21.5794 18.705 20.3768 19.7334 19.1037L19.7335 19.1038L19.7401 19.0952C20.7385 17.8026 21.7145 16.4766 22.6682 15.1173L22.6683 15.1174L22.6747 15.1078C23.6163 13.6977 24.4758 12.3218 25.2529 10.98C26.4061 8.98882 27.2257 7.35893 27.6993 6.09855L27.6995 6.09861L27.7039 6.08587C28.1359 4.83496 28.402 3.82197 28.4824 3.06435L28.4836 3.05302L28.4843 3.04165C28.5068 2.66662 28.5059 2.3363 28.4764 2.05731C28.4489 1.79731 28.3927 1.54225 28.2772 1.33287C28.2157 1.19868 28.162 1.08734 28.1172 1.00336C28.0942 0.960218 28.0689 0.915369 28.0424 0.875394C28.0293 0.855636 28.0108 0.829271 27.9877 0.802061C27.9713 0.782823 27.9219 0.725831 27.8426 0.680151C27.4426 0.449919 27.0071 0.446634 26.5925 0.634656C26.2389 0.794992 25.9454 1.02972 25.7566 1.35573C25.6856 1.47825 25.6384 1.6259 25.603 1.76687C25.5656 1.91553 25.5331 2.09214 25.5041 2.29249C25.4532 2.6448 25.3482 3.13433 25.1843 3.76815C24.9917 4.37651 24.7109 5.14052 24.3397 6.06294C23.9404 6.96061 23.3875 8.02125 22.6777 9.24688C22.0399 10.3482 21.3287 11.4703 20.544 12.613C19.7266 13.7404 18.8874 14.8345 18.0265 15.8953C17.1645 16.9575 16.3234 17.9486 15.5032 18.8686C14.6523 19.7704 13.8753 20.5466 13.1719 21.1981C12.4666 21.8515 11.8739 22.3526 11.3916 22.7072C11.1746 22.8582 11.0173 22.9412 10.9128 22.979C10.839 22.8878 10.7347 22.7544 10.5987 22.5769C10.3139 22.2053 9.95529 21.7509 9.52349 21.2145C9.10011 20.6351 8.62233 20.0465 8.09078 19.4486C7.54487 18.8008 6.98058 18.1836 6.39787 17.5972C6.1352 17.3196 5.82833 17.0179 5.47827 16.6922C5.11518 16.3183 4.77309 15.9765 4.45209 15.6671C4.13091 15.3575 3.84622 15.0892 3.59837 14.8625L3.59845 14.8624L3.59045 14.8554C3.4513 14.7335 3.33592 14.6348 3.24569 14.5607C3.1672 14.4963 3.07795 14.4254 3.00495 14.3834C2.7202 14.2195 2.4034 14.099 2.08313 14.1242C1.72219 14.1525 1.44982 14.357 1.28125 14.648C1.06869 15.015 1.06318 15.4168 1.24964 15.7927C1.43666 16.1698 1.78103 16.7327 2.268 17.4679C2.75857 18.2086 3.31722 19.0082 3.94359 19.8666C4.53669 20.7039 5.16725 21.5834 5.83525 22.5048C6.50511 23.4289 7.12484 24.2625 7.69433 25.0056C8.25872 25.742 8.7542 26.3595 9.18009 26.8563C9.36129 27.1014 9.50344 27.2908 9.60545 27.4228C9.65707 27.4896 9.70124 27.5453 9.7363 27.5873C9.75344 27.6078 9.77227 27.6297 9.79096 27.6497L9.79102 27.6497C9.79296 27.6519 9.84807 27.7143 9.92589 27.7591C10.2168 27.9265 10.5461 27.9013 10.8215 27.8277C11.1058 27.7518 11.4197 27.6019 11.755 27.4014ZM10.8309 23.0009C10.831 23.0008 10.8324 23.0006 10.8351 23.0006C10.8322 23.001 10.8309 23.001 10.8309 23.0009Z"
                        fill="#39D353"
                        stroke="#39D353"
                      />
                    </svg>

                    <p className="ml-4">Unlimited logs</p>
                  </li>
                  <li className="flex items-center justify-start my-3">
                    <svg
                      width="20"
                      className="flex-shrink-0"
                      viewBox="0 0 29 36"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M18.6655 23.6832C18.7457 24.1194 18.7859 24.4717 18.7859 24.7402C18.826 25.0086 18.8461 25.2771 18.8461 25.5455C18.8461 26.3844 18.7056 27.3743 18.4246 28.5153C18.1838 29.6562 17.7422 30.7467 17.1 31.787C16.4979 32.7937 15.675 33.6661 14.6313 34.4044C13.6278 35.1091 12.3433 35.4614 10.7778 35.4614C9.33273 35.4614 7.96795 35.1258 6.68344 34.4547C5.39894 33.75 4.25492 32.8608 3.2514 31.787C2.24788 30.6796 1.44507 29.4548 0.842957 28.1126C0.280986 26.7368 0 25.3778 0 24.0355C0 22.0892 0.140493 20.4282 0.421479 19.0524C0.742605 17.6431 1.18415 16.4183 1.74612 15.378C1.74612 15.2773 1.66584 15.1767 1.50528 15.076C1.38486 14.9753 1.32465 14.8411 1.32465 14.6733C1.32465 14.5055 1.50528 14.2874 1.86655 14.019C2.26795 13.7505 2.72957 13.4989 3.2514 13.264C3.81338 12.9955 4.35528 12.7774 4.87711 12.6096C5.43908 12.4083 5.86056 12.3076 6.14154 12.3076C6.3021 12.3076 6.56302 12.3747 6.92429 12.509C7.3257 12.6432 7.82745 12.7103 8.42957 12.7103C8.63027 12.7103 8.83097 12.6935 9.03168 12.66C9.23238 12.6264 9.45316 12.6096 9.694 12.6096C10.537 12.6096 11.4401 12.9452 12.4035 13.6163C13.407 14.2539 14.3303 15.0928 15.1732 16.133C16.0563 17.1733 16.7989 18.3645 17.401 19.7068C18.0433 21.0155 18.4648 22.3409 18.6655 23.6832ZM16.257 25.6462C16.257 25.0086 16.0965 24.1026 15.7753 22.9282C15.4542 21.7201 14.9725 20.5457 14.3303 19.4048C13.688 18.2303 12.9053 17.2068 11.982 16.3344C11.0989 15.4619 10.0954 15.0257 8.97147 15.0257C8.89119 15.0257 8.73062 15.0257 8.48978 15.0257C8.28907 14.9921 8.04823 14.9753 7.76724 14.9753C7.48626 14.9418 7.22534 14.925 6.9845 14.925C6.74365 14.8914 6.60316 14.8747 6.56302 14.8747C5.92077 14.8747 5.3588 15.1263 4.87711 15.6297C4.43556 16.133 4.05422 16.7874 3.73309 17.5927C3.45211 18.3981 3.23133 19.3209 3.07077 20.3611C2.91021 21.4013 2.82993 22.4416 2.82993 23.4818C2.82993 23.8509 2.95035 24.5724 3.19119 25.6462C3.43204 26.6864 3.85352 27.777 4.45563 28.9179C5.09788 30.0253 5.94084 31.0152 6.9845 31.8877C8.02816 32.7601 9.3528 33.1963 10.9584 33.1963C12.0422 33.1963 12.9253 32.9279 13.6077 32.391C14.2901 31.8205 14.812 31.1326 15.1732 30.3273C15.5746 29.5219 15.8556 28.6998 16.0162 27.8609C16.1767 26.9885 16.257 26.2502 16.257 25.6462Z"
                        fill="#555555"
                      />
                      <path
                        d="M11.755 27.4014L11.7643 27.3959L11.7734 27.3899C12.4092 26.9714 13.1427 26.3679 13.9712 25.5895L13.9712 25.5895L13.9744 25.5864C14.8226 24.7753 15.7334 23.8171 16.7065 22.7132L16.708 22.7115C17.6966 21.5794 18.705 20.3768 19.7334 19.1037L19.7335 19.1038L19.7401 19.0952C20.7385 17.8026 21.7145 16.4766 22.6682 15.1173L22.6683 15.1174L22.6747 15.1078C23.6163 13.6977 24.4758 12.3218 25.2529 10.98C26.4061 8.98882 27.2257 7.35893 27.6993 6.09855L27.6995 6.09861L27.7039 6.08587C28.1359 4.83496 28.402 3.82197 28.4824 3.06435L28.4836 3.05302L28.4843 3.04165C28.5068 2.66662 28.5059 2.3363 28.4764 2.05731C28.4489 1.79731 28.3927 1.54225 28.2772 1.33287C28.2157 1.19868 28.162 1.08734 28.1172 1.00336C28.0942 0.960218 28.0689 0.915369 28.0424 0.875394C28.0293 0.855636 28.0108 0.829271 27.9877 0.802061C27.9713 0.782823 27.9219 0.725831 27.8426 0.680151C27.4426 0.449919 27.0071 0.446634 26.5925 0.634656C26.2389 0.794992 25.9454 1.02972 25.7566 1.35573C25.6856 1.47825 25.6384 1.6259 25.603 1.76687C25.5656 1.91553 25.5331 2.09214 25.5041 2.29249C25.4532 2.6448 25.3482 3.13433 25.1843 3.76815C24.9917 4.37651 24.7109 5.14052 24.3397 6.06294C23.9404 6.96061 23.3875 8.02125 22.6777 9.24688C22.0399 10.3482 21.3287 11.4703 20.544 12.613C19.7266 13.7404 18.8874 14.8345 18.0265 15.8953C17.1645 16.9575 16.3234 17.9486 15.5032 18.8686C14.6523 19.7704 13.8753 20.5466 13.1719 21.1981C12.4666 21.8515 11.8739 22.3526 11.3916 22.7072C11.1746 22.8582 11.0173 22.9412 10.9128 22.979C10.839 22.8878 10.7347 22.7544 10.5987 22.5769C10.3139 22.2053 9.95529 21.7509 9.52349 21.2145C9.10011 20.6351 8.62233 20.0465 8.09078 19.4486C7.54487 18.8008 6.98058 18.1836 6.39787 17.5972C6.1352 17.3196 5.82833 17.0179 5.47827 16.6922C5.11518 16.3183 4.77309 15.9765 4.45209 15.6671C4.13091 15.3575 3.84622 15.0892 3.59837 14.8625L3.59845 14.8624L3.59045 14.8554C3.4513 14.7335 3.33592 14.6348 3.24569 14.5607C3.1672 14.4963 3.07795 14.4254 3.00495 14.3834C2.7202 14.2195 2.4034 14.099 2.08313 14.1242C1.72219 14.1525 1.44982 14.357 1.28125 14.648C1.06869 15.015 1.06318 15.4168 1.24964 15.7927C1.43666 16.1698 1.78103 16.7327 2.268 17.4679C2.75857 18.2086 3.31722 19.0082 3.94359 19.8666C4.53669 20.7039 5.16725 21.5834 5.83525 22.5048C6.50511 23.4289 7.12484 24.2625 7.69433 25.0056C8.25872 25.742 8.7542 26.3595 9.18009 26.8563C9.36129 27.1014 9.50344 27.2908 9.60545 27.4228C9.65707 27.4896 9.70124 27.5453 9.7363 27.5873C9.75344 27.6078 9.77227 27.6297 9.79096 27.6497L9.79102 27.6497C9.79296 27.6519 9.84807 27.7143 9.92589 27.7591C10.2168 27.9265 10.5461 27.9013 10.8215 27.8277C11.1058 27.7518 11.4197 27.6019 11.755 27.4014ZM10.8309 23.0009C10.831 23.0008 10.8324 23.0006 10.8351 23.0006C10.8322 23.001 10.8309 23.001 10.8309 23.0009Z"
                        fill="#39D353"
                        stroke="#39D353"
                      />
                    </svg>

                    <p className="ml-4">
                      Reminders via e-mail, SMS or Whatsapp
                    </p>
                  </li>
                  <li className="flex items-center justify-start my-3">
                    <svg
                      width="20"
                      className="flex-shrink-0"
                      viewBox="0 0 29 36"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M18.6655 23.6832C18.7457 24.1194 18.7859 24.4717 18.7859 24.7402C18.826 25.0086 18.8461 25.2771 18.8461 25.5455C18.8461 26.3844 18.7056 27.3743 18.4246 28.5153C18.1838 29.6562 17.7422 30.7467 17.1 31.787C16.4979 32.7937 15.675 33.6661 14.6313 34.4044C13.6278 35.1091 12.3433 35.4614 10.7778 35.4614C9.33273 35.4614 7.96795 35.1258 6.68344 34.4547C5.39894 33.75 4.25492 32.8608 3.2514 31.787C2.24788 30.6796 1.44507 29.4548 0.842957 28.1126C0.280986 26.7368 0 25.3778 0 24.0355C0 22.0892 0.140493 20.4282 0.421479 19.0524C0.742605 17.6431 1.18415 16.4183 1.74612 15.378C1.74612 15.2773 1.66584 15.1767 1.50528 15.076C1.38486 14.9753 1.32465 14.8411 1.32465 14.6733C1.32465 14.5055 1.50528 14.2874 1.86655 14.019C2.26795 13.7505 2.72957 13.4989 3.2514 13.264C3.81338 12.9955 4.35528 12.7774 4.87711 12.6096C5.43908 12.4083 5.86056 12.3076 6.14154 12.3076C6.3021 12.3076 6.56302 12.3747 6.92429 12.509C7.3257 12.6432 7.82745 12.7103 8.42957 12.7103C8.63027 12.7103 8.83097 12.6935 9.03168 12.66C9.23238 12.6264 9.45316 12.6096 9.694 12.6096C10.537 12.6096 11.4401 12.9452 12.4035 13.6163C13.407 14.2539 14.3303 15.0928 15.1732 16.133C16.0563 17.1733 16.7989 18.3645 17.401 19.7068C18.0433 21.0155 18.4648 22.3409 18.6655 23.6832ZM16.257 25.6462C16.257 25.0086 16.0965 24.1026 15.7753 22.9282C15.4542 21.7201 14.9725 20.5457 14.3303 19.4048C13.688 18.2303 12.9053 17.2068 11.982 16.3344C11.0989 15.4619 10.0954 15.0257 8.97147 15.0257C8.89119 15.0257 8.73062 15.0257 8.48978 15.0257C8.28907 14.9921 8.04823 14.9753 7.76724 14.9753C7.48626 14.9418 7.22534 14.925 6.9845 14.925C6.74365 14.8914 6.60316 14.8747 6.56302 14.8747C5.92077 14.8747 5.3588 15.1263 4.87711 15.6297C4.43556 16.133 4.05422 16.7874 3.73309 17.5927C3.45211 18.3981 3.23133 19.3209 3.07077 20.3611C2.91021 21.4013 2.82993 22.4416 2.82993 23.4818C2.82993 23.8509 2.95035 24.5724 3.19119 25.6462C3.43204 26.6864 3.85352 27.777 4.45563 28.9179C5.09788 30.0253 5.94084 31.0152 6.9845 31.8877C8.02816 32.7601 9.3528 33.1963 10.9584 33.1963C12.0422 33.1963 12.9253 32.9279 13.6077 32.391C14.2901 31.8205 14.812 31.1326 15.1732 30.3273C15.5746 29.5219 15.8556 28.6998 16.0162 27.8609C16.1767 26.9885 16.257 26.2502 16.257 25.6462Z"
                        fill="#555555"
                      />
                      <path
                        d="M11.755 27.4014L11.7643 27.3959L11.7734 27.3899C12.4092 26.9714 13.1427 26.3679 13.9712 25.5895L13.9712 25.5895L13.9744 25.5864C14.8226 24.7753 15.7334 23.8171 16.7065 22.7132L16.708 22.7115C17.6966 21.5794 18.705 20.3768 19.7334 19.1037L19.7335 19.1038L19.7401 19.0952C20.7385 17.8026 21.7145 16.4766 22.6682 15.1173L22.6683 15.1174L22.6747 15.1078C23.6163 13.6977 24.4758 12.3218 25.2529 10.98C26.4061 8.98882 27.2257 7.35893 27.6993 6.09855L27.6995 6.09861L27.7039 6.08587C28.1359 4.83496 28.402 3.82197 28.4824 3.06435L28.4836 3.05302L28.4843 3.04165C28.5068 2.66662 28.5059 2.3363 28.4764 2.05731C28.4489 1.79731 28.3927 1.54225 28.2772 1.33287C28.2157 1.19868 28.162 1.08734 28.1172 1.00336C28.0942 0.960218 28.0689 0.915369 28.0424 0.875394C28.0293 0.855636 28.0108 0.829271 27.9877 0.802061C27.9713 0.782823 27.9219 0.725831 27.8426 0.680151C27.4426 0.449919 27.0071 0.446634 26.5925 0.634656C26.2389 0.794992 25.9454 1.02972 25.7566 1.35573C25.6856 1.47825 25.6384 1.6259 25.603 1.76687C25.5656 1.91553 25.5331 2.09214 25.5041 2.29249C25.4532 2.6448 25.3482 3.13433 25.1843 3.76815C24.9917 4.37651 24.7109 5.14052 24.3397 6.06294C23.9404 6.96061 23.3875 8.02125 22.6777 9.24688C22.0399 10.3482 21.3287 11.4703 20.544 12.613C19.7266 13.7404 18.8874 14.8345 18.0265 15.8953C17.1645 16.9575 16.3234 17.9486 15.5032 18.8686C14.6523 19.7704 13.8753 20.5466 13.1719 21.1981C12.4666 21.8515 11.8739 22.3526 11.3916 22.7072C11.1746 22.8582 11.0173 22.9412 10.9128 22.979C10.839 22.8878 10.7347 22.7544 10.5987 22.5769C10.3139 22.2053 9.95529 21.7509 9.52349 21.2145C9.10011 20.6351 8.62233 20.0465 8.09078 19.4486C7.54487 18.8008 6.98058 18.1836 6.39787 17.5972C6.1352 17.3196 5.82833 17.0179 5.47827 16.6922C5.11518 16.3183 4.77309 15.9765 4.45209 15.6671C4.13091 15.3575 3.84622 15.0892 3.59837 14.8625L3.59845 14.8624L3.59045 14.8554C3.4513 14.7335 3.33592 14.6348 3.24569 14.5607C3.1672 14.4963 3.07795 14.4254 3.00495 14.3834C2.7202 14.2195 2.4034 14.099 2.08313 14.1242C1.72219 14.1525 1.44982 14.357 1.28125 14.648C1.06869 15.015 1.06318 15.4168 1.24964 15.7927C1.43666 16.1698 1.78103 16.7327 2.268 17.4679C2.75857 18.2086 3.31722 19.0082 3.94359 19.8666C4.53669 20.7039 5.16725 21.5834 5.83525 22.5048C6.50511 23.4289 7.12484 24.2625 7.69433 25.0056C8.25872 25.742 8.7542 26.3595 9.18009 26.8563C9.36129 27.1014 9.50344 27.2908 9.60545 27.4228C9.65707 27.4896 9.70124 27.5453 9.7363 27.5873C9.75344 27.6078 9.77227 27.6297 9.79096 27.6497L9.79102 27.6497C9.79296 27.6519 9.84807 27.7143 9.92589 27.7591C10.2168 27.9265 10.5461 27.9013 10.8215 27.8277C11.1058 27.7518 11.4197 27.6019 11.755 27.4014ZM10.8309 23.0009C10.831 23.0008 10.8324 23.0006 10.8351 23.0006C10.8322 23.001 10.8309 23.001 10.8309 23.0009Z"
                        fill="#39D353"
                        stroke="#39D353"
                      />
                    </svg>

                    <p className="ml-4">Custom support</p>
                  </li>
                  <li className="flex items-center justify-start my-3">
                    <svg
                      width="20"
                      className="flex-shrink-0"
                      viewBox="0 0 29 36"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M18.6655 23.6832C18.7457 24.1194 18.7859 24.4717 18.7859 24.7402C18.826 25.0086 18.8461 25.2771 18.8461 25.5455C18.8461 26.3844 18.7056 27.3743 18.4246 28.5153C18.1838 29.6562 17.7422 30.7467 17.1 31.787C16.4979 32.7937 15.675 33.6661 14.6313 34.4044C13.6278 35.1091 12.3433 35.4614 10.7778 35.4614C9.33273 35.4614 7.96795 35.1258 6.68344 34.4547C5.39894 33.75 4.25492 32.8608 3.2514 31.787C2.24788 30.6796 1.44507 29.4548 0.842957 28.1126C0.280986 26.7368 0 25.3778 0 24.0355C0 22.0892 0.140493 20.4282 0.421479 19.0524C0.742605 17.6431 1.18415 16.4183 1.74612 15.378C1.74612 15.2773 1.66584 15.1767 1.50528 15.076C1.38486 14.9753 1.32465 14.8411 1.32465 14.6733C1.32465 14.5055 1.50528 14.2874 1.86655 14.019C2.26795 13.7505 2.72957 13.4989 3.2514 13.264C3.81338 12.9955 4.35528 12.7774 4.87711 12.6096C5.43908 12.4083 5.86056 12.3076 6.14154 12.3076C6.3021 12.3076 6.56302 12.3747 6.92429 12.509C7.3257 12.6432 7.82745 12.7103 8.42957 12.7103C8.63027 12.7103 8.83097 12.6935 9.03168 12.66C9.23238 12.6264 9.45316 12.6096 9.694 12.6096C10.537 12.6096 11.4401 12.9452 12.4035 13.6163C13.407 14.2539 14.3303 15.0928 15.1732 16.133C16.0563 17.1733 16.7989 18.3645 17.401 19.7068C18.0433 21.0155 18.4648 22.3409 18.6655 23.6832ZM16.257 25.6462C16.257 25.0086 16.0965 24.1026 15.7753 22.9282C15.4542 21.7201 14.9725 20.5457 14.3303 19.4048C13.688 18.2303 12.9053 17.2068 11.982 16.3344C11.0989 15.4619 10.0954 15.0257 8.97147 15.0257C8.89119 15.0257 8.73062 15.0257 8.48978 15.0257C8.28907 14.9921 8.04823 14.9753 7.76724 14.9753C7.48626 14.9418 7.22534 14.925 6.9845 14.925C6.74365 14.8914 6.60316 14.8747 6.56302 14.8747C5.92077 14.8747 5.3588 15.1263 4.87711 15.6297C4.43556 16.133 4.05422 16.7874 3.73309 17.5927C3.45211 18.3981 3.23133 19.3209 3.07077 20.3611C2.91021 21.4013 2.82993 22.4416 2.82993 23.4818C2.82993 23.8509 2.95035 24.5724 3.19119 25.6462C3.43204 26.6864 3.85352 27.777 4.45563 28.9179C5.09788 30.0253 5.94084 31.0152 6.9845 31.8877C8.02816 32.7601 9.3528 33.1963 10.9584 33.1963C12.0422 33.1963 12.9253 32.9279 13.6077 32.391C14.2901 31.8205 14.812 31.1326 15.1732 30.3273C15.5746 29.5219 15.8556 28.6998 16.0162 27.8609C16.1767 26.9885 16.257 26.2502 16.257 25.6462Z"
                        fill="#555555"
                      />
                      <path
                        d="M11.755 27.4014L11.7643 27.3959L11.7734 27.3899C12.4092 26.9714 13.1427 26.3679 13.9712 25.5895L13.9712 25.5895L13.9744 25.5864C14.8226 24.7753 15.7334 23.8171 16.7065 22.7132L16.708 22.7115C17.6966 21.5794 18.705 20.3768 19.7334 19.1037L19.7335 19.1038L19.7401 19.0952C20.7385 17.8026 21.7145 16.4766 22.6682 15.1173L22.6683 15.1174L22.6747 15.1078C23.6163 13.6977 24.4758 12.3218 25.2529 10.98C26.4061 8.98882 27.2257 7.35893 27.6993 6.09855L27.6995 6.09861L27.7039 6.08587C28.1359 4.83496 28.402 3.82197 28.4824 3.06435L28.4836 3.05302L28.4843 3.04165C28.5068 2.66662 28.5059 2.3363 28.4764 2.05731C28.4489 1.79731 28.3927 1.54225 28.2772 1.33287C28.2157 1.19868 28.162 1.08734 28.1172 1.00336C28.0942 0.960218 28.0689 0.915369 28.0424 0.875394C28.0293 0.855636 28.0108 0.829271 27.9877 0.802061C27.9713 0.782823 27.9219 0.725831 27.8426 0.680151C27.4426 0.449919 27.0071 0.446634 26.5925 0.634656C26.2389 0.794992 25.9454 1.02972 25.7566 1.35573C25.6856 1.47825 25.6384 1.6259 25.603 1.76687C25.5656 1.91553 25.5331 2.09214 25.5041 2.29249C25.4532 2.6448 25.3482 3.13433 25.1843 3.76815C24.9917 4.37651 24.7109 5.14052 24.3397 6.06294C23.9404 6.96061 23.3875 8.02125 22.6777 9.24688C22.0399 10.3482 21.3287 11.4703 20.544 12.613C19.7266 13.7404 18.8874 14.8345 18.0265 15.8953C17.1645 16.9575 16.3234 17.9486 15.5032 18.8686C14.6523 19.7704 13.8753 20.5466 13.1719 21.1981C12.4666 21.8515 11.8739 22.3526 11.3916 22.7072C11.1746 22.8582 11.0173 22.9412 10.9128 22.979C10.839 22.8878 10.7347 22.7544 10.5987 22.5769C10.3139 22.2053 9.95529 21.7509 9.52349 21.2145C9.10011 20.6351 8.62233 20.0465 8.09078 19.4486C7.54487 18.8008 6.98058 18.1836 6.39787 17.5972C6.1352 17.3196 5.82833 17.0179 5.47827 16.6922C5.11518 16.3183 4.77309 15.9765 4.45209 15.6671C4.13091 15.3575 3.84622 15.0892 3.59837 14.8625L3.59845 14.8624L3.59045 14.8554C3.4513 14.7335 3.33592 14.6348 3.24569 14.5607C3.1672 14.4963 3.07795 14.4254 3.00495 14.3834C2.7202 14.2195 2.4034 14.099 2.08313 14.1242C1.72219 14.1525 1.44982 14.357 1.28125 14.648C1.06869 15.015 1.06318 15.4168 1.24964 15.7927C1.43666 16.1698 1.78103 16.7327 2.268 17.4679C2.75857 18.2086 3.31722 19.0082 3.94359 19.8666C4.53669 20.7039 5.16725 21.5834 5.83525 22.5048C6.50511 23.4289 7.12484 24.2625 7.69433 25.0056C8.25872 25.742 8.7542 26.3595 9.18009 26.8563C9.36129 27.1014 9.50344 27.2908 9.60545 27.4228C9.65707 27.4896 9.70124 27.5453 9.7363 27.5873C9.75344 27.6078 9.77227 27.6297 9.79096 27.6497L9.79102 27.6497C9.79296 27.6519 9.84807 27.7143 9.92589 27.7591C10.2168 27.9265 10.5461 27.9013 10.8215 27.8277C11.1058 27.7518 11.4197 27.6019 11.755 27.4014ZM10.8309 23.0009C10.831 23.0008 10.8324 23.0006 10.8351 23.0006C10.8322 23.001 10.8309 23.001 10.8309 23.0009Z"
                        fill="#39D353"
                        stroke="#39D353"
                      />
                    </svg>

                    <p className="ml-4">
                      Access to <strong>full</strong> habit insights
                    </p>
                  </li>
                </ul>
                <Button
                  className="bg-[#39D353] text-[20px] w-full px-16 text-black font-black"
                  variant="solid"
                  size="lg"
                  onClick={() => {
                    if (!isPro) {
                      handleChoosePlan(user?.id, "pro");
                    }
                  }}
                >
                  {isPro ? "Your plan" : "Upgrade plan"}
                  {isPro ? null : (
                    <ChevronRight className="md:mr-[-20px] shrink-0" />
                  )}
                </Button>
              </div>
            </div>
          </div>
        </div>
        <div className="h-[30px] flex-shrink-0"></div>
      </div>
    ),
    insights: (
      <div className="w-full flex flex-col h-full overflow-scroll">
        <div className="w-full mb-10">
          <p className="text-[24px] mb-7 p-8 pb-0 text-[white]">Insights</p>
        </div>
        <div className="flex px-8 items-center justify-center w-full min-h-0">
          Soon...
        </div>
      </div>
    ),
  };

  return (
    <div>
      <Modal
        backdrop="opaque"
        isOpen={isOpen}
        onOpenChange={onOpenChange}
        hideCloseButton={true}
        size="5xl"
        radius="lg"
        classNames={{
          body: "p-0 modal-wrapper",
          backdrop: "bg-[#000000]/50 backdrop-opacity-40",
          base: "border-[#292f46] bg-[#222222] text-[#919191]",
          closeButton: "hover:bg-white/5 active:bg-white/10",
        }}
      >
        <ModalContent>
          {(onClose) => (
            <>
              <ModalBody>
                <div className="flex h-[600px] max-h-[80%]">
                  <div className="bg-[#181818] px-1 md:px-4 p-4 rounded-r-xl border-r-1 border-[#333333] w-[70px] md:w-[309px] flex-shrink-0">
                    <div className="relative flex items-center md:justify-between justify-center pt-6 pb-5 px-3 w-full">
                      {isPro ? (
                        <span className="bg-[#39d353] px-[5px] uppercase mr-[-20px] z-40 mt-[-40px] font-black rounded-[5px] text-[black] text-[10px]">
                          PRO
                        </span>
                      ) : null}
                      <Avatar
                        className="text-white cursor-pointer clear-start avatar flex-shrink-0"
                        name={shortenedName}
                        size="md"
                      ></Avatar>
                      <div className="text-left hidden md:flex flex-col justify-center w-full pl-4">
                        <p className="text-[18px] leading-[18px]">
                          {userInfo?.full_name}
                        </p>
                        <span className="text-[12px]">{userInfo?.email}</span>
                      </div>
                    </div>
                    <ul>
                      {[
                        {
                          key: "profile",
                          icon: <User />,
                          text: "Profile",
                          classes: "",
                        },
                        {
                          key: "subscription",
                          icon: <CreditCard />,
                          text: "Subscription",
                          classes: "",
                          children: (
                            <span className="font-bold text-[11px] text-[black] bg-[#27DE55] rounded-lg py-1 px-2">
                              {isPro ? "Subscribed" : "Get PRO"}
                            </span>
                          ),
                        },
                        // {
                        //   key: "insights",
                        //   icon: <LucideBarChart />,
                        //   text: "Insights",
                        //   classes: "cursor-not-allowed",
                        //   blocked: true,
                        // },
                        {
                          key: "landing",
                          icon: <SquareArrowOutUpRight />,
                          text: "Go to landing page",
                          classes: "",
                          action: () => {
                            router.push("/");
                          },
                        },
                        {
                          key: "privacy",
                          icon: <ScrollText />,
                          text: "Privacy Policy",
                          classes: "",
                          action: () => {
                            router.push("/privacy-policy");
                          },
                        },
                        {
                          key: "terms",
                          icon: <Handshake />,
                          text: "Terms of use",
                          classes: "",
                          action: () => {
                            router.push("/terms-of-use");
                          },
                        },
                        {
                          key: "feedback",
                          icon: <MessageCircle />,
                          text: "Give some feedback",
                          classes: "",
                          action: () => {
                            router.push("/#suggestions");
                          },
                        },
                        {
                          action: () => handleLogout(),
                          key: "logout",
                          icon: <LogOut />,
                          text: "Logout",
                          classes: "text-[#F31260]",
                        },
                      ].map(
                        ({
                          icon,
                          text,
                          classes,
                          children,
                          action,
                          key,
                        }: any) => {
                          return (
                            <li
                              onClick={() => {
                                if (action) {
                                  action();
                                  return;
                                }

                                return setPanel(key);
                              }}
                              className={classNames(
                                `rounded-xl cursor-pointer hover:bg-[#1E1E1E] hover:text-[white] flex w-full p-4 items-center md:justify-start justify-center ${classes}`,
                                {
                                  "bg-[#222222] text-[white]": key === panel,
                                }
                              )}
                            >
                              <div className="flex-shrink-0">{icon}</div>
                              <p className="ml-4 hidden md:flex justify-between w-full">
                                {text}
                                {children ?? children}
                              </p>
                            </li>
                          );
                        }
                      )}
                    </ul>
                  </div>
                  <div className="w-full min-w-0">{panels[panel]}</div>
                </div>
              </ModalBody>
            </>
          )}
        </ModalContent>
      </Modal>
    </div>
  );
};

export default ProfileModal;
